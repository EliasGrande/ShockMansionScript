// ==UserScript==
// @name         ShockMansion Script
// @description  Some modifications on www.shockmansion.com
// @namespace    https://github.com/EliasGrande/
// @downloadURL  https://github.com/EliasGrande/ShockMansionScript/raw/master/dist/releases/latest.user.js
// @updateURL    https://github.com/EliasGrande/ShockMansionScript/raw/master/dist/releases/latest.meta.js
// @version      2.0.0
// @include      http://www.shockmansion.com/*
// ==/UserScript==
/*! ShockMansion Script (C) 2014 Elías Grande Cásedas | MIT | opensource.org/licenses/MIT */
(function(){var h=window,g,d;try{if(unsafeWindow){h=unsafeWindow}}catch(f){}g=h.document;var b=function(){d=h.jQuery;try{d(".global-navigation-list").css("position","absolute")}catch(q){return}var n,m,l,p,u;var v=d(".post-in-feed").get();var r=function(e){l=u.find('[href="'+e+'"]').children("img.size-full");l.attr("title",p.attr("title"));l.parent().attr("href",p.attr("href"))};for(n=0;n<v.length;n++){try{u=d(v[n]);p=u.children(".news-title:first").find("a:first");r("http://www.facebook.com/shocked1");r("https://www.facebook.com/shocked1")}catch(q){}}v=d(".post").get();r=function(j){l=u.find('[href="'+j+'"]').children("img.size-full").get();for(m=0;m<l.length;m++){var e=d(l[m]);e.attr({title:"",alt:""}).parent().after(e).remove()}};for(n=0;n<v.length;n++){try{u=d(v[n]);r("http://www.facebook.com/shocked1");r("https://www.facebook.com/shocked1")}catch(q){}}var k=function(j){var w;for(n=0;n<j.length;n++){try{w=d(j[n]);if(/footer/.test(w.parent().parent().attr("id"))){continue}if(/^div\-gpt\-ad/.test(w.find("script:first").parent().attr("id"))){w.remove()}}catch(x){}}};k(d(".textwidget").get());k(d(".new-sidebar").get());d("body.single-post .pagination").remove();d("body.single-post .single-post-footer").remove();d("body.single-post #headers").remove();d("body.paged #headers").remove();d("#footer").remove();d("#cmn_tb_wrapper").remove();d(".facebook_like_sidebar_box_title").css("clear","both");var t={enabled:true,aPrev:d("#post-nav .post-next a:first"),aNext:d("#post-nav .post-previous a:first"),goPrev:function(){if(this.enabled&&(this.aPrev.get().length>0)){this.aPrev.click();h.location.href=this.aPrev.attr("href")}},goNext:function(){if(this.enabled&&(this.aNext.get().length>0)){this.aNext.click();h.location.href=this.aNext.attr("href")}}};if(t.aNext.get().length==0){t.aPrev=d("li span.page-numbers.current").parent().prev("li").children("a");t.aNext=d("a.next.page-numbers")}d('input[type="text"]').focus(function(){t.enabled=false}).blur(function(){t.enabled=true});d("body").keydown(function(w){var j=w.which+0;if(j==39){t.goNext()}else{if(j==37){t.goPrev()}}}).focus();var o=d("#post-nav"),s=o.parent();o.insertBefore(s.children(".share-and-comment:first")).before(s.children(".arrows-yo:first"))};
/*! [onDOMContentLoaded] by Dean Edwards & Matthias Miller & John Resig */
;var i,a,c;a=false;i=function(){if(a){return}a=true;if(c){clearInterval(c)}b()};if(g.addEventListener){g.addEventListener("DOMContentLoaded",i,false)}if(/WebKit/i.test(h.navigator.userAgent)){c=setInterval(function(){if(/loaded|complete/.test(g.readyState)){i()}},10)}h.onload=i})();